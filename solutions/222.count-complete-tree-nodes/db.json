{"javascript":"/**\r\n * Definition for a binary tree node.\r\n * function TreeNode(val) {\r\n *     this.val = val;\r\n *     this.left = this.right = null;\r\n * }\r\n */\r\n/**\r\n * @param {TreeNode} root\r\n * @return {number}\r\n */\r\nvar countNodes = function(root) {\r\n\tif (!root) return 0;\r\n\t\r\n\tvar ldepth = 0, rdepth = 0, lnode = root, rnode = root;\r\n\twhile (lnode) { ldepth ++; lnode = lnode.left }\r\n\twhile (rnode) { rdepth ++; rnode = rnode.right }\r\n\r\n\tif (ldepth === rdepth) return (1 << ldepth) - 1;\r\n\treturn 1 + countNodes(root.left) + countNodes(root.right);\r\n};\r\n"}